{{> menu id="dashboard"}}

<section class="ui segment">
  <h1 class="ui header">
    Welcome {{user.firstName}} {{user.lastName}}
  </h1>

  <section class="ui raised segment">
    <h3 class="ui header">
      Your Pictures:
    </h3>
    
    <div class="ui cards">
   

      {{#each album.image}}
        {{> card }}
      {{/each}}
    </div>
    <div class="ui segment">
      
      <!-- Trigger/Open The Modal -->
      <button id="myBtn" class="negative ui button">Delete All</button>
      <!-- The Modal -->
<div id="myModal" class="modal">

  <div class="modal-content">
    <span class="close">&times;</span>

 <p><label for="confirmDeleteAll">Delete All Pictures??</label>
      <menu>
        <button id="cancel" type="reset">Cancel</button>
        <a href="/dashboard/deleteallpictures"> <button class="negative ui button">Confirm Delete All</button></a>
      </menu>  
      </div>
  </div>

    </div>
      
  </section>
<script>
// Get the modal
var modal = document.getElementById('myModal');

// Get the cancel button
var cancel = document.getElementById('cancel');

// Get the button that opens the modal
var btn = document.getElementById("myBtn");

// Get the <span> element that closes the modal
var span = document.getElementsByClassName("close")[0];

// When the user clicks the button, open the modal 
btn.onclick = function() {
    modal.style.display = "block";
}

// When the user clicks on <span> (x), close the modal
span.onclick = function() {
    modal.style.display = "none";
}

// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
    if (event.target == modal) {
        modal.style.display = "none";
    }
}

cancel.onclick = function() {
    modal.style.display = "none";
}

</script>

 
  <div class="ui segment">
    <div class="ui small dividing header"> Current Logo </div>

    <img style="width:400px", src="{{logoUrl}}">

  </div>

  <section class="ui raised segment">
    <div class="ui small dividing header"> Picture Upload </div>
    <section class="ui raised form segment">
      <form action="/dashboard/uploadpicture" method="post" enctype="multipart/form-data">
        <div class="two fields">
          <div class="field">
            <label>Image</label>
            <input type="file" name="picture" required="required">  </input>
          </div>
        <div class="field">
            <label>Tag</label>
            <input placeholder="..." type="text" name="tag">
          
          </div>
        </div>
        <button class="ui mini blue submit button"> Upload </button>
      </form>
    </section>
  <a href="#" id="upload_widget_opener">Upload multiple images</a>

<script src="//widget.cloudinary.com/global/all.js" type="text/javascript"></script>  

<script type="text/javascript">  
  
  document.getElementById("upload_widget_opener").addEventListener("click", function() {
    cloudinary.openUploadWidget({ cloud_name: 'patrick86', upload_preset: 'kvc85rgd', 
                                 tags:["!!!!!{{user.id}}"]}, 
      function(error, result) { console.log(error, result) 
                                         window.location.reload();
//took a few efforts to get the reload location correctly placed so 
//that it wasn't triggering automatically and looping
});
  }, false);
</script>
  
  
  </section>
  <section class="ui raised segment">
    <div class="ui small dividing header" id="anchor"> Gif Create </div>
    <section class="ui raised form segment">
      
      <h2>Transition choice</h2>
      
      {{#ifEquals transition "rZoom"}}
     
        {{> rzoom }}
        
      {{/ifEquals}}
      
      {{#ifEquals transition "zoom"}}
     
        {{> zoom }}
        
      {{/ifEquals}}
      
      {{#ifEquals transition "fade"}}
     
        {{> fade }}
        
      {{/ifEquals}}
      
      {{#ifEquals transition "slide"}}
     
        {{> slide }}
        
      {{/ifEquals}}

    </section>
    
  </section>
 

</section>
